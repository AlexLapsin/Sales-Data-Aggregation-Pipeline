{
  "name": "sales-events-snowflake-sink-password",
  "config": {
    "_comment": "Snowflake Kafka Connect Sink Connector - Password Authentication",
    "_description": "Alternative config using username/password instead of private key",

    "connector.class": "com.snowflake.kafka.connector.SnowflakeSinkConnector",
    "topics": "sales_events",
    "tasks.max": "1",

    "snowflake.url.name": "${SNOWFLAKE_ACCOUNT}",
    "snowflake.user.name": "${SNOWFLAKE_USER}",
    "snowflake.user.password": "${SNOWFLAKE_PASSWORD}",
    "snowflake.database.name": "${SNOWFLAKE_DATABASE}",
    "snowflake.schema.name": "${SNOWFLAKE_SCHEMA}",
    "snowflake.role.name": "${SNOWFLAKE_ROLE}",

    "snowflake.ingestion.method": "SNOWPIPE_STREAMING",
    "snowflake.enable.schematization": "true",

    "buffer.count.records": "10000",
    "buffer.size.bytes": "5000000",
    "buffer.flush.time": "10",

    "key.converter": "org.apache.kafka.connect.storage.StringConverter",
    "value.converter": "org.apache.kafka.connect.json.JsonConverter",
    "value.converter.schemas.enable": "false",

    "snowflake.topic2table.map": "sales_events:SALES_RAW",

    "transforms": "addFields,renameFields",
    "transforms.addFields.type": "org.apache.kafka.connect.transforms.InsertField$Value",
    "transforms.addFields.static.field": "SOURCE_SYSTEM",
    "transforms.addFields.static.value": "KAFKA",
    "transforms.renameFields.type": "org.apache.kafka.connect.transforms.ReplaceField$Value",
    "transforms.renameFields.renames": "order_id:ORDER_ID,store_id:STORE_ID,product_id:PRODUCT_ID,product_name:PRODUCT_NAME,category:CATEGORY,quantity:QUANTITY,unit_price:UNIT_PRICE,total_price:TOTAL_PRICE,sale_timestamp:SALE_TIMESTAMP,customer_id:CUSTOMER_ID,payment_method:PAYMENT_METHOD,discount:DISCOUNT,store_location:STORE_LOCATION",

    "errors.tolerance": "all",
    "errors.log.enable": "true",
    "errors.log.include.messages": "true"
  }
}
